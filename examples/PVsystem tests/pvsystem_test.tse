version = 4.2

//
// Saved by sw version: 2023.4 DEV
//

model "pvsystem_test" {
    configuration {
        hil_device = "HIL604"
        hil_configuration_id = 1
        simulation_method = exact
        simulation_time_step = 20e-6
        simulation_discret_scaling = 1.0
        dsp_timer_periods = 100e-6, 50e-3
        ss_calc_method = "systematic elimination"
        enb_pole_shift = True
        enb_gds_oversampling = True
        show_modes = False
        device_ao_limit_enable = False
        reset_analog_outputs_on_sim_stop = True
        reset_digital_outputs_on_sim_stop = True
        vhil_adio_loopback = False
        cpl_stb = False
        enb_dep_sw_detect = False
        code_section = "internal memory"
        data_section = "internal memory"
        sys_sp_rate_1 = 0.0001
        sys_sp_rate_2 = 0.05
        sys_real_type_precision = "default"
        user_real_type_precision = "default"
        sys_cpu_optimization = "high"
        user_cpu_optimization = "high"
        user_cpu_part_option = "default"
        matrix_based_reduction = True
        cpl_dynamics_analysis = False
        export_ss_to_pickle = False
        ground_scope_core = False
        dss_num_tol = 1e-15
        cce_platform = "generic"
        cce_use_relative_names = False
        cce_type_mapping_real = "double"
        cce_type_mapping_uint = "unsigned int"
        cce_type_mapping_int = "int"
        cce_directory = ""
        cce_custom_type_int = ""
        cce_custom_type_uint = ""
        cce_custom_type_real = ""
        tunable_params = "component defined"
        sp_compiler_type = "C compiler"
        sig_stim = "off"
        export_resource_list = ""
        export_dependency_list = ""
        excluded_resource_list = ""
        export_out_file = ""
        export_lock_top_level = True
        export_encrypt_library = True
        export_encrypt_resources = True
        feedthrough_validation_error_level = warning
    }

    component Subsystem Root {
        component "OpenDSS/Vsource" V1 {
            basekv = "0.240"
            enable_monitoring = "True"
            global_basefreq = "True"
            input_method = "MVAsc"
        }
        [
            position = 9016, 4208
            rotation = right
            size = 64, 96
        ]

        component "OpenDSS/Bus" Bus1 {
            freq_meas = "True"
            i_inst_meas = "True"
            i_rms_meas = "True"
            phase_n = "False"
            power_meas = "True"
            type_prop = "ABC"
            v_phase_inst_meas = "True"
            v_phase_rms_meas = "True"
        }
        [
            position = 9016, 4312
            rotation = right
            size = 16, 96
        ]

        component "OpenDSS/SimDSS" SimDSS {
            currents = "Elem"
            powers = "kVA Elem"
            sim_counter = "41"
            sim_mode = "Time Series"
            sim_status = "Sim41 complete"
            voltagebases = "[0.240]"
        }
        [
            position = 8664, 4088
            size = 96, 96
        ]

        component "core/SCADA Input" "SCADA Input1" {
            format = "int"
            max = "1"
            min = "0"
            signal_type = "int"
            unit = ""
        }
        [
            position = 8480, 4248
        ]

        component "core/Integrator" Integrator1 {
        }
        [
            position = 8632, 4248
        ]

        component "core/Probe" time_hour {
        }
        [
            position = 8808, 4184
        ]

        component "core/Gain" scale {
            gain = "0.5"
        }
        [
            position = 8712, 4248
        ]

        component "OpenDSS/PV System" PV2 {
            connection = "Î”"
            enable_monitoring = "True"
            loadshape = "[0, 0, 0, 0, 0, 0, 0.1, 0.2, 0.3, 0.5, 0.8, 0.9, 1.0, 1.0, 0.99, 0.9, 0.7, 0.4, 0.1, 0, 0, 0, 0, 0]"
            loadshape_hour = ""
            phases = "1"
            power_ref = "Time Series"
            tshape_hour = "[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]"
        }
        [
            position = 8504, 4608
            size = 96, 144
        ]

        component "OpenDSS/Bus" "Bus PV2" {
            freq_meas = "True"
            i_inst_meas = "True"
            i_rms_meas = "True"
            phase_b = "False"
            phase_n = "False"
            power_meas = "True"
            type_prop = "AC"
            v_phase_inst_meas = "True"
            v_phase_rms_meas = "True"
        }
        [
            position = 8680, 4632
            size = 16, 64
        ]

        component "OpenDSS/Line" Line2 {
            Length = "1"
            R0 = "0.1903"
            X0 = "0.3957"
            cmatrix = "[[0, 0], [0,0]]"
            dC0 = "0"
            dC1 = "0"
            input_type = "Matrix"
            phases = "2"
            rmatrix = "[[0.1903, 0], [0, 0.1903]]"
            xmatrix = "[[0.3957, 0], [0, 0.3957]]"
        }
        [
            position = 8816, 4632
            size = 64, 64
        ]

        component "core/Data Type Conversion" "Data Type Conversion1" {
        }
        [
            position = 8552, 4248
            hide_name = True
        ]

        component "OpenDSS/Monitoring" Monitoring1 {
        }
        [
            position = 8536, 4080
            size = 64, 64
        ]

        component "core/Ground" gnd1 {
        }
        [
            position = 8816, 4416
        ]

        component "core/Resistor" R1 {
            resistance = "1e9"
        }
        [
            position = 8920, 4384
        ]

        tag Goto1 {
            value = "time"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 8808, 4248
            hide_name = True
            size = 60, 20
        ]

        tag From2 {
            value = "time"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 8384, 4560
            hide_name = True
            size = 60, 20
        ]

        junction Junction1 sp
        [
            position = 8752, 4248
        ]

        comment Comment1 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Time-Series</p><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">seconds -&gt; hour</p></body></html> ENDCOMMENT 
        [
            position = 8600, 4168
        ]

        connect Integrator1.out scale.in as Connection31
        connect Junction1 Goto1 as Connection60
        connect Junction1 time_hour.in as Connection61
        connect Junction1 scale.out as Connection62
        connect V1.C1 Bus1.C1 as Connection63
        connect V1.B1 Bus1.B1 as Connection64
        connect V1.A1 Bus1.A1 as Connection65
        connect "SCADA Input1.out" "Data Type Conversion1.in" as Connection105
        connect "Data Type Conversion1.out" Integrator1.in as Connection106
        connect PV2.Time_p From2 as Connection109
        connect Bus1.B2 Line2.B2 as Connection117
        [
            breakpoints = 9016, 4440
        ]
        connect Line2.A2 Bus1.A2 as Connection116
        [
            breakpoints = 9048, 4408
        ]
        connect R1.p_node gnd1.node as Connection118
        connect R1.n_node Bus1.C2 as Connection119
        connect "Bus PV2.C2" Line2.B1 as Connection121
        connect Line2.A1 "Bus PV2.A2" as Connection128
        [
            breakpoints = 8688, 4616
        ]
        connect PV2.A1 "Bus PV2.A1" as Connection136
        [
            breakpoints = 8576, 4600; 8656, 4616
        ]
        connect PV2.B1 "Bus PV2.C1" as Connection137
    }

    default {
        "core/Data Type Conversion" {
            output_type = "real"
            execution_rate = "inherit"
        }

        "core/Gain" {
            gain = "1"
            multiplication = "Element-wise(K.*u)"
            _tunable = "False"
            execution_rate = "inherit"
        }

        "core/Integrator" {
            show_reset = "none"
            reset_type = "asynchronous"
            show_init_condition = "internal"
            init_value = "0"
            limit_output = "False"
            limit_upper = "inf"
            limit_lower = "-inf"
            show_state = "False"
            state_port_type = "inherit"
            execution_rate = "inherit"
        }

        "core/Probe" {
            signal_access = "inherit"
            addr = "0"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "generic"
            streaming_en = "False"
            streaming_er_idx = "0"
            execution_rate = "inherit"
        }

        "core/Resistor" {
            resistance = "1"
            param_set = ""
        }

        "core/SCADA Input" {
            addr = "0"
            format = "real"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "real"
            min = "-1e6"
            max = "1e6"
            def_value = "0"
            unit = " "
            execution_rate = "100e-6"
        }

        "OpenDSS/Bus" {
            type_prop = "ABCN"
            phase_a = "True"
            phase_b = "True"
            phase_c = "True"
            phase_n = "True"
            conf = "on both sides"
            i_rms_meas = "False"
            i_inst_meas = "False"
            v_line_rms_meas = "False"
            v_line_inst_meas = "False"
            v_phase_rms_meas = "False"
            v_phase_inst_meas = "False"
            freq_meas = "False"
            power_meas = "False"
            execution_rate = "100e-6"
            enable_output = "False"
        }

        "OpenDSS/Line" {
            input_type = "Symmetrical"
            Load = "Choose"
            selected_object = ""
            Length = "100"
            global_basefreq = "True"
            baseFreq = "60"
            phases = "3"
            R1 = "0.1903"
            R0 = "0.5853"
            X1 = "0.3957"
            X0 = "1.3278"
            dC1 = "11.155"
            dC0 = "5.2493"
            rmatrix = "[[0.0981, 0.0401, 0.0401], [0.0401, 0.0981, 0.0401], [0.0401, 0.0401, 0.0981]]"
            xmatrix = "[[0.2153, 0.0947, 0.0947], [0.0947, 0.2153, 0.0947], [0.0947, 0.0947, 0.2153]]"
            cmatrix = "[[2.8, -0.6, -0.6], [-0.6, 2.8, -0.6], [-0.6, -0.6, 2.8]]"
            obj_mode = ""
            Len = "0"
            Fr = "0"
            d_R = "0"
            d_L = "0"
            d_C = "0"
            d_X = "0"
            C1 = "12.74e-9"
            C0 = "7.751e-9"
            L1 = "99999"
            L0 = "99999"
            R1_one = "0.01"
            L1_one = "0.01e-3"
            C1_one = "0.1e-6"
            coupling = "None"
            enable_monitoring = "False"
        }

        "OpenDSS/Monitoring" {
            not_used = "0"
            run = "Run"
        }

        "OpenDSS/PV System" {
            power = "5.0"
            voltage = "0.240"
            freq = "60"
            phases = "3"
            connection = "Y"
            load_xycurve_eff = "Choose"
            xycurve_name_eff = "Eff"
            xycurve_npts_eff = "4"
            xycurve_xarray_eff = "[.1, .2, .4, 1.0]"
            xycurve_yarray_eff = "[.86, .9, .93, .97]"
            pmpp = "5.0"
            irrad = "1"
            temp = "25"
            load_xycurve_cf = "Choose"
            xycurve_name_cf = "FactorPvsT"
            xycurve_npts_cf = "4"
            xycurve_xarray_cf = "[0, 25, 75, 100]"
            xycurve_yarray_cf = "[1.2, 1.0, 0.8, 0.6]"
            filter_type = "L"
            rl1_resistance = "0.1"
            rl1_inductance = "0.68e-3"
            rc_resistance = "1e-3"
            rc_capacitance = "100e-6"
            rl2_resistance = "1e-3"
            rl2_inductance = "1e-3"
            Ikp = "0.5"
            Iki = "5.0"
            ts = "100e-6"
            power_ref = "Internal Scada Input"
            t_mode = "Time value (h)"
            load_loadshape = "Choose"
            loadshape_name = "Irrad"
            loadshape_from_file = "False"
            useactual = "False"
            loadshape_from_file_path = ""
            loadshape_from_file_column = "1"
            loadshape_from_file_header = "True"
            loadshape = "[0, 0, 0, 0, 0, 0, .1, .2, .3, .5, .8, .9, 1.0, 1.0, .99, .9, .7, .4, .1, 0, 0, 0, 0, 0]"
            loadshape_int = "1"
            loadshape_hour = "[]"
            loadshape_npts = "24"
            timespan = "Daily"
            load_tshape = "Choose"
            tshape_name = "Temp"
            tshape_temp = "[25, 25, 25, 25, 25, 25, 25, 25, 35, 40, 45, 50, 60, 60, 55, 40, 35, 30, 25, 25, 25, 25, 25, 25]"
            tshape_int = "1"
            tshape_npts = "24"
            tshape_hour = "[]"
            enable_monitoring = "False"
        }

        "OpenDSS/SimDSS" {
            sim_mode = "Snap"
            baseFreq = "60"
            voltagebases = "[0.480, 12.47]"
            tsstp = "1"
            tspoints = "24"
            append = "Open"
            export_to_dss = "Run"
            sim_status = "None"
            sim_counter = "0"
            voltages = "LN Nodes"
            show_v = "Show voltages"
            currents = "Seq"
            show_c = "Show currents"
            powers = "kVA"
            show_p = "Show powers"
            misc = "Buses"
            show_misc = "Show misc"
            report_snap = "Generate"
            report_fault = "Generate"
            algorithm = "Normal"
            loadmodel = "Power flow"
            miniterations = "2"
            maxiter = "15"
            command = "show voltages LN"
            run = "Run"
        }

        "OpenDSS/Vsource" {
            basekv = "115.0"
            baseMVA = "100.0"
            global_basefreq = "False"
            baseFreq = "60"
            tp_connection = "Y - Grounded"
            pu = "1.0"
            Angle = "0"
            Frequency = "60"
            input_method = "Z"
            r1 = "1.65"
            x1 = "6.6"
            r0 = "1.9"
            x0 = "5.7"
            r1_pu = "0.0121"
            x1_pu = "0.0485"
            r0_pu = "0.0136"
            x0_pu = "0.0407"
            mva_sc3 = "2000"
            mva_sc1 = "2100"
            i_sc3 = "10000"
            i_sc1 = "10500"
            x1r1 = "4.0"
            x0r0 = "3.0"
            enable_monitoring = "False"
        }
    }
}
